<!-- Messages area -->
<div id="chat-messages" class="space-y-5 mb-4 min-h-[calc(100vh-180px)]">
	{% for msg in conversation %}
	<div
		class="message-enter {% if msg.role == 'assistant' or msg.role == 'quiz' %}bg-[#444654]{% endif %} px-4 md:px-6 py-6">
		<div class="chat-container flex gap-4 md:gap-6">
			<!-- User or Assistant icon -->
			<div class="flex-shrink-0 w-7 h-7">
				{% if msg.role == "user" %}
				<div
					class="w-7 h-7 rounded-sm bg-[#5436DA] flex items-center justify-center text-white text-xs font-semibold">U</div>
				{% else %}
				<div
					class="w-7 h-7 rounded-sm bg-[#11A27F] flex items-center justify-center text-white">
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
						xmlns="http://www.w3.org/2000/svg" class="h-5 w-5">
						<path
							d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-10.5V21"
							stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
							stroke-linejoin="round"></path>
					</svg>
				</div>
				{% endif %}
			</div>
			<!-- Message content -->
			<div class="flex-1 overflow-x-auto min-w-0">
				{% if msg.role == "assistant" and msg.text%}
				<div class="prose prose-invert max-w-none markdown-content text-gray-100">
					{{ msg.text }}
				</div>
				{% else %}
				<div
				class="quiz-message prose prose-invert max-w-none markdown-content text-gray-100">
				{{ msg.html }}
			</div>
				{%endif%}
			</div>
		</div>
	</div>
	{% empty %}
	<div class="flex flex-col items-center justify-center h-[calc(100vh-200px)]">
		<svg width="48" height="48" viewBox="0 0 24 24" fill="none"
			xmlns="http://www.w3.org/2000/svg" class="text-gray-400 mb-2">
			<path
				d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-10.5V21"
				stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
				stroke-linejoin="round"></path>
		</svg>
		<p class="text-gray-400 text-sm">How can I help you today?</p>
	</div>
	{% endfor %}
</div>
